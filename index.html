<!DOCTYPE html>
<html>
  <head>
    <title>Registration Form</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">

<!--    <link rel="stylesheet" type="text/css" href="style.css"> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">

<!--    <script src="index.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> 
    <!-- <script src="validation.js" type="text/javascript"></script> -->
<script>
  
function validateEmail(email){
  var regex = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  var result = regex.test(email);
  return result;
}

function validatePassword(password){
  var regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/;
  var result = regex.test(password);
  return result;
}


function validate() {
  var $result = $("#result");
  var email = $("#email").val();
  var password = $("#password").val();
  $result.text("");

  if (validateEmail(email) && (validatePassword(password))) {
    return true;

  } else if(!validateEmail(email)){
    $result.text("The email is not valid. It must contain a @ and a domain ending.");
    $result.css("color", "red");

  } else {
    $result.text("The password is not valid. It must contain 8 characters, a capital letter and a number.");
    $result.css("color", "red");
  }
  return false;
}

$(document).ready(function(){
  var user,pass,email;
  $("#submit").click(function(){
    user=$("#user").val();
    pass=$("#password").val();
    email=$("#email").val();
    if(!validate()){
      return;
    }
    $.post("/login",{user: user, password: pass, email: email}, function(data){
      if(data==='done')
        {
          alert("login success");
        }
    });
  });
});
</script>
<style type="text/css">
    body{
        color: #fff;
        background: #677356;
        font-family: 'Roboto', sans-serif;
    }
    .form-control{
        height: 40px;
        box-shadow: none;
        color: #969fa4;
    }
    .form-control:focus{
        border-color: #5cb85c;
    }
    .form-control, .btn{        
        border-radius: 3px;
    }
    .signup-form{
        width: 400px;
        margin: 0 auto;
        padding: 30px 0;
    }
    .signup-form h2{
        color: #636363;
        margin: 0 0 15px;
        position: relative;
        text-align: center;
    }
    .signup-form h2:before, .signup-form h2:after{
        content: "";
        height: 2px;
        width: 30%;
        background: #d4d4d4;
        position: absolute;
        top: 50%;
        z-index: 2;
    }   
    .signup-form h2:before{
        left: 0;
    }
    .signup-form h2:after{
        right: 0;
    }
    .signup-form .hint-text{
        color: #999;
        margin-bottom: 30px;
        text-align: center;
    }
    .signup-form form{
        color: #999;
        border-radius: 3px;
        margin-bottom: 15px;
        background: #f2f3f7;
        box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);
        padding: 30px;
    }
    .signup-form .form-group{
        margin-bottom: 20px;
    }
    .signup-form input[type="checkbox"]{
        margin-top: 3px;
    }
    .signup-form .btn{        
        font-size: 16px;
        font-weight: bold;      
        min-width: 140px;
        outline: none !important;
    }
    .signup-form .row div:first-child{
        padding-right: 10px;
    }
    .signup-form .row div:last-child{
        padding-left: 10px;
    }       
    .signup-form a{
        color: #fff;
        text-decoration: underline;
    }
    .signup-form a:hover{
        text-decoration: none;
    }
    .signup-form form a{
        color: #5cb85c;
        text-decoration: none;
    }   
    .signup-form form a:hover{
        text-decoration: underline;
    }  
</style>

  </head>
<body>
<div class="signup-form">
    <form method="post">
        <h2>Register</h2>
        <p class="hint-text">Create your account. It's free and only takes a minute.</p>
        <p id="result"></p>
        
        <div class="form-group">
            <div class="col-xs-6"></div>
        </div>
        <div class="form-group">
            <input type="text" id="user" class="form-control" name="first_name" placeholder="User" required="required">
        </div>    
        <div class="form-group">
        
            <input type="email" id="email" class="form-control" name="email" placeholder="Email" required="required">
        </div>
        <div class="form-group">
            <input type="password" id="password" class="form-control" name="password" placeholder="Password" required="required">
        </div>
        <div class="form-group">
            <button type="button" id="submit" value="Submit" class="btn btn-success btn-lg btn-block">Register Now</button>
        </div>
        <div class="form-group">
            <a href="/admin">Link to admin site</a>
        </div>
    </form>
</div>
</body>


</html>